/*
 * Name: system_MKL28Z7.h
 * Author: Martin Stankus
 *
 */

#ifndef _SYSTEM_MKL28Z7_H_
#define _SYSTEM_MKL28Z7_H_

#include <stdint.h>

#define DEFAULT_SYSTEM_CLOCK           8000000u            /* Default System clock value */
#define CPU_INT_SLOW_CLK_HZ            4000000u            /* Value of the slow internal oscillator clock frequency in Hz  */

#define WDOG_CS_PRES_VAL_DIS			0x00000000ul
#define WDOG_CS_PRES_VAL_EN				0x00001000ul

#define WDOG_CS_PRES_VAL_BOOT			WDOG_CS_PRES_VAL_DIS

#define WDOG_CS_CLK_VAL_BUSCLK			0x00000000ul
#define WDOG_CS_CLK_VAL_LPOCLK			0x00000100ul
#define WDOG_CS_CLK_VAL_SIRCCLK			0x00000200ul
#define WDOG_CS_CLK_VAL_SOSCCLK			0x00000300ul

#define WDOG_CS_CLK_VAL_BOOT			WDOG_CS_CLK_VAL_LPOCLK

#define WDOG_TOVAL_VAL_BOOT				0x000003E8ul

#define SCG_CCRCSR_SCS_VAL_SOSC			0x01000000ul
#define SCG_CCRCSR_SCS_VAL_SIRC			0x02000000ul
#define SCG_CCRCSR_SCS_VAL_FIRC			0x03000000ul
#define SCG_CCRCSR_SCS_VAL_SPLL			0x06000000ul

#define SCG_CCRCSR_DIVCORE_VAL_DIV1		0x00000000ul
#define SCG_CCRCSR_DIVCORE_VAL_DIV2		0x00010000ul

#define SCG_CCRCSR_DIVCORE_RUN_VAL		SCG_CCRCSR_DIVCORE_VAL_DIV2
#define SCG_CCRCSR_DIVCORE_VLPR_VAL		SCG_CCRCSR_DIVCORE_VAL_DIV1

#define SCG_CCRCSR_DIVSLOW_VAL_DIV3		0x00000002ul
#define SCG_CCRCSR_DIVSLOW_VAL_DIV4		0x00000003ul

#define SCG_CCRCSR_DIVSLOW_RUN_VAL		SCG_CCRCSR_DIVSLOW_VAL_DIV3
#define SCG_CCRCSR_DIVSLOW_VLPR_VAL		SCG_CCRCSR_DIVSLOW_VAL_DIV4

#define SCG_XDIV_DIVN_VAL_DIS			0x00000000ul

#define SCG_XDIV_DIV3_VAL_DIV1			0x00010000ul
#define SCG_XDIV_DIV3_VAL_DIV2			0x00020000ul
#define SCG_XDIV_DIV3_VAL_DIV4			0x00030000ul
#define SCG_XDIV_DIV3_VAL_DIV8			0x00040000ul
#define SCG_XDIV_DIV3_VAL_DIV16			0x00050000ul
#define SCG_XDIV_DIV3_VAL_DIV32			0x00060000ul
#define SCG_XDIV_DIV3_VAL_DIV64			0x00070000ul

#define SCG_XDIV_DIV1_VAL_DIV1			0x00000001ul
#define SCG_XDIV_DIV1_VAL_DIV2			0x00000002ul
#define SCG_XDIV_DIV1_VAL_DIV4			0x00000003ul
#define SCG_XDIV_DIV1_VAL_DIV8			0x00000004ul
#define SCG_XDIV_DIV1_VAL_DIV16			0x00000005ul
#define SCG_XDIV_DIV1_VAL_DIV32			0x00000006ul
#define SCG_XDIV_DIV1_VAL_DIV64			0x00000007ul

#define SCG_SOSCDIV_DIV3_VAL			SCG_XDIV_DIV3_VAL_DIV1
#define SCG_SOSCDIV_DIV1_VAL			SCG_XDIV_DIVN_VAL_DIS

#define SCG_SIRCDIV_DIV3_VAL			SCG_XDIV_DIV3_VAL_DIV1
#define SCG_SIRCDIV_DIV1_VAL			SCG_XDIV_DIVN_VAL_DIS

#define SCG_FIRCDIV_DIV3_VAL			SCG_XDIV_DIV3_VAL_DIV1
#define SCG_FIRCDIV_DIV1_VAL			SCG_XDIV_DIV1_VAL_DIV1

#define SCG_SPLLDIV_DIV3_VAL			SCG_XDIV_DIV3_VAL_DIV4
#define SCG_SPLLDIV_DIV1_VAL			SCG_XDIV_DIVN_VAL_DIS

#define SCG_SOSCCFG_SCXP_VAL_0PF		0x00000000ul
#define SCG_SOSCCFG_SCXP_VAL_2PF		0x00000800ul
#define SCG_SOSCCFG_SCXP_VAL_4PF		0x00000400ul
#define SCG_SOSCCFG_SCXP_VAL_6PF		0x00000C00ul
#define SCG_SOSCCFG_SCXP_VAL_8PF		0x00000200ul
#define SCG_SOSCCFG_SCXP_VAL_12PF		0x00000600ul
#define SCG_SOSCCFG_SCXP_VAL_16PF		0x00000100ul
#define SCG_SOSCCFG_SCXP_VAL_20PF		0x00000500ul
#define SCG_SOSCCFG_SCXP_VAL_24PF		0x00000300ul

#define SCG_SOSCCFG_SCXP_VAL			SCG_SOSCCFG_SCXP_VAL_6PF

#define SCG_SOSCCFG_RANGE_VAL_LOW		0x00000010ul
#define SCG_SOSCCFG_RANGE_VAL_MED		0x00000020ul
#define SCG_SOSCCFG_RANGE_VAL_HIGH		0x00000030ul

#define SCG_SOSCCFG_RANGE_VAL			SCG_SOSCCFG_RANGE_VAL_LOW

#define SCG_SIRCCFG_RANGE_VAL_2MHZ		0x00000000ul
#define SCG_SIRCCFG_RANGE_VAL_8MHZ		0x00000001ul

#define SCG_SIRCCFG_RANGE_VAL			SCG_SIRCCFG_RANGE_VAL_8MHZ

#define SCG_FIRCCFG_RANGE_VAL_48MHZ		0x00000000ul
#define SCG_FIRCCFG_RANGE_VAL_52MHZ		0x00000001ul
#define SCG_FIRCCFG_RANGE_VAL_56MHZ		0x00000002ul
#define SCG_FIRCCFG_RANGE_VAL_60MHZ		0x00000003ul

#define SCG_FIRCCFG_RANGE_VAL			SCG_FIRCCFG_RANGE_VAL_48MHZ

#define SCG_SPLLCFG_MULT_VAL_MUL16		0x00000000ul
#define SCG_SPLLCFG_MULT_VAL_MUL24		0x00080000ul

#define SCG_SPLLCFG_MULT_VAL			SCG_SPLLCFG_MULT_VAL_MUL24

#define SCG_SPLLCFG_PREDIV_VAL_DIV3		0x00000200ul
#define SCG_SPLLCFG_PREDIV_VAL_DIV4		0x00000300ul
#define SCG_SPLLCFG_PREDIV_VAL_DIV5		0x00000400ul

#define SCG_SPLLCFG_PREDIV_VAL			SCG_SPLLCFG_PREDIV_VAL_DIV4

#define CORE_FREQ_BOOT					8000000ul
#define CORE_FREQ						72000000ul

extern volatile uint32_t SystemCoreClock;

void SystemInit(void);
void SystemCoreClockUpdate(void);

#endif /* _SYSTEM_MKL28Z7_H_ */
